{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/item.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/login.service\";\nimport * as i4 from \"../services/authorize.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../shared/search/search.component\";\nimport * as i7 from \"../shared/pagination/pagination.component\";\nimport * as i8 from \"./itemcard/itemcard.component\";\nfunction ItemsComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function ItemsComponent_a_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onCreateItem());\n    });\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵtext(2, \" Create New Item\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ItemsComponent_app_itemcard_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-itemcard\", 11);\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"item\", item_r4);\n  }\n}\nexport class ItemsComponent {\n  constructor(itemService, route, router, loginService, authorizeService) {\n    this.itemService = itemService;\n    this.route = route;\n    this.router = router;\n    this.loginService = loginService;\n    this.authorizeService = authorizeService;\n    this.items = [];\n    this.totalCount = 9;\n    this.currentPage = 1;\n    this.search = '';\n    this.hasPermission = false;\n  }\n  ngOnInit() {\n    this.hasPermission = this.loginService.loggedIn.subscribe({\n      next: res => {\n        this.hasPermission = res;\n      }\n    });\n    //this.hasPermission = this.authorizeService.isAdmin;\n    this.getAll();\n    this.itemService.refresh.subscribe({\n      next: () => {\n        this.getAll();\n      }\n    });\n  }\n  ChangeCurrentPage(page) {\n    this.currentPage = +page;\n    this.getAll();\n  }\n  onSearch(searchContent) {\n    this.search = searchContent;\n    this.currentPage = 1;\n    this.getAll();\n  }\n  getAll() {\n    this.itemService.getAllItems(this.currentPage, this.search).subscribe({\n      next: response => {\n        this.items = response.result.resultSet;\n        this.totalCount = Math.max(response.result.count, 9);\n        console.log(response);\n        console.log(this.items);\n      }\n    });\n  }\n  // onGetSingleItem(id: number) {\n  //   this.route.navigate([`${id}`], { relativeTo: this.router });\n  // }\n  onCreateItem() {\n    this.route.navigate(['create/new'], {\n      relativeTo: this.router\n    });\n  }\n  static #_ = this.ɵfac = function ItemsComponent_Factory(t) {\n    return new (t || ItemsComponent)(i0.ɵɵdirectiveInject(i1.ItemService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.LoginService), i0.ɵɵdirectiveInject(i4.AuthorizeService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemsComponent,\n    selectors: [[\"app-items\"]],\n    decls: 9,\n    vars: 4,\n    consts: [[1, \"p-4\", \"mt-5\", \"container-background\"], [1, \"row\", \"pb-4\"], [1, \"col\"], [1, \"col\", \"text-end\", \"pt-1\"], [\"class\", \"btn btn-outline-primary p-2\", 3, \"click\", 4, \"ngIf\"], [3, \"search\"], [1, \"container-fluid\", \"d-md-flex\", \"row-cols-sm-12\", \"mt-5\", \"mb-5\", \"d-flex\", \"justify-content-around\", \"flex-wrap\"], [\"class\", \"col-sm-8 col-md-5 col-lg-3 me-3 mt-4 mb-4 d-flex flex-column\", 3, \"item\", 4, \"ngFor\", \"ngForOf\"], [3, \"totalCount\", \"currentPage\", \"changeCurrentPage\"], [1, \"btn\", \"btn-outline-primary\", \"p-2\", 3, \"click\"], [1, \"bi\", \"bi-plus-square-fill\"], [1, \"col-sm-8\", \"col-md-5\", \"col-lg-3\", \"me-3\", \"mt-4\", \"mb-4\", \"d-flex\", \"flex-column\", 3, \"item\"]],\n    template: function ItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtemplate(4, ItemsComponent_a_4_Template, 3, 0, \"a\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"app-search\", 5);\n        i0.ɵɵlistener(\"search\", function ItemsComponent_Template_app_search_search_5_listener($event) {\n          return ctx.onSearch($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"section\", 6);\n        i0.ɵɵtemplate(7, ItemsComponent_app_itemcard_7_Template, 1, 1, \"app-itemcard\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"app-pagination\", 8);\n        i0.ɵɵlistener(\"changeCurrentPage\", function ItemsComponent_Template_app_pagination_changeCurrentPage_8_listener($event) {\n          return ctx.ChangeCurrentPage($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermission);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.items);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"totalCount\", ctx.totalCount)(\"currentPage\", ctx.currentPage);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.SearchComponent, i7.PaginationComponent, i8.ItemcardComponent],\n    styles: [\"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@100;200[_ngcontent-%COMP%];300[_ngcontent-%COMP%];400[_ngcontent-%COMP%];500[_ngcontent-%COMP%];600[_ngcontent-%COMP%];700[_ngcontent-%COMP%];800[_ngcontent-%COMP%];900&display=swap)[_ngcontent-%COMP%];*[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n[_ngcontent-%COMP%]:root {\\n  font-family: \\\"Poppins\\\";\\n  \\n  --primary-color-1: hsl(232, 16%, 34%);\\n  --primary-color-2: hsl(20, 94%, 34%);\\n  --primary-color-3: hsl(232, 16%, 34%);\\n  --primary-color-4: hsl(0, 0%, 25%);\\n  --text-area-color: whitesmoke;\\n  --heading-secondary-color: hsl(0, 0%, 55%);\\n  --secondary-card-color: whitesmoke;\\n}\\n\\nhtml[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  \\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n.item-container[_ngcontent-%COMP%] {\\n  margin: 0 auto;\\n  \\n  max-width: 60rem;\\n  min-height: 30rem;\\n  padding: 3rem;\\n}\\n\\n.card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  \\n  box-sizing: border-box;\\n  box-shadow: 0px 0px 10px 0px rgb(145, 145, 145);\\n  border-radius: 0.8rem;\\n}\\n\\n.container-background[_ngcontent-%COMP%] {\\n  background-image: linear-gradient(\\n      to top right,\\n      rgba(198, 217, 220, 0.86),\\n      rgba(254, 206, 172, 0),\\n      rgba(220, 220, 220, 0.61)\\n    ),\\n    url('Digital-composite-of-highlighted-bones-of-man-about-to-race.jpg') !important;\\n  background-position: center !important;\\n  background-size: initial !important;\\n  background-attachment: fixed;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaXRlbXMvaXRlbXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLFVBQVU7RUFDVixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsNkNBQTZDO0VBQzdDLHFDQUFxQztFQUNyQyxvQ0FBb0M7RUFDcEMscUNBQXFDO0VBQ3JDLGtDQUFrQztFQUNsQyw2QkFBNkI7RUFDN0IsMENBQTBDO0VBQzFDLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsNkJBQTZCO0VBQzdCLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw2QkFBNkI7RUFDN0Isc0JBQXNCO0VBQ3RCLCtDQUErQztFQUMvQyxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRTs7Ozs7O3FGQU11RztFQUN2RyxzQ0FBc0M7RUFDdEMsbUNBQW1DO0VBQ25DLDRCQUE0QjtBQUM5QiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOndnaHRAMTAwOzIwMDszMDA7NDAwOzUwMDs2MDA7NzAwOzgwMDs5MDAmZGlzcGxheT1zd2FwXCIpO1xuXG4qIHtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xufVxuXG46cm9vdCB7XG4gIGZvbnQtZmFtaWx5OiBcIlBvcHBpbnNcIjtcbiAgLyogICAgLS1wcmltYXJ5LWNvbG9yLTE6IGhzbCgzNDgsIDY4JSwgMzQlKTsqL1xuICAtLXByaW1hcnktY29sb3ItMTogaHNsKDIzMiwgMTYlLCAzNCUpO1xuICAtLXByaW1hcnktY29sb3ItMjogaHNsKDIwLCA5NCUsIDM0JSk7XG4gIC0tcHJpbWFyeS1jb2xvci0zOiBoc2woMjMyLCAxNiUsIDM0JSk7XG4gIC0tcHJpbWFyeS1jb2xvci00OiBoc2woMCwgMCUsIDI1JSk7XG4gIC0tdGV4dC1hcmVhLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICAtLWhlYWRpbmctc2Vjb25kYXJ5LWNvbG9yOiBoc2woMCwgMCUsIDU1JSk7XG4gIC0tc2Vjb25kYXJ5LWNhcmQtY29sb3I6IHdoaXRlc21va2U7XG59XG5cbmh0bWwge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5ib2R5IHtcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogc2t5Ymx1ZTsgKi9cbn1cblxuaW5wdXQge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uaXRlbS1jb250YWluZXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47ICovXG4gIG1heC13aWR0aDogNjByZW07XG4gIG1pbi1oZWlnaHQ6IDMwcmVtO1xuICBwYWRkaW5nOiAzcmVtO1xufVxuXG4uY2FyZC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiB3aGVhdDsgKi9cbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAxMHB4IDBweCByZ2IoMTQ1LCAxNDUsIDE0NSk7XG4gIGJvcmRlci1yYWRpdXM6IDAuOHJlbTtcbn1cblxuLmNvbnRhaW5lci1iYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxuICAgICAgdG8gdG9wIHJpZ2h0LFxuICAgICAgcmdiYSgxOTgsIDIxNywgMjIwLCAwLjg2KSxcbiAgICAgIHJnYmEoMjU0LCAyMDYsIDE3MiwgMCksXG4gICAgICByZ2JhKDIyMCwgMjIwLCAyMjAsIDAuNjEpXG4gICAgKSxcbiAgICB1cmwoXCIuLi8uLi9hc3NldHMvaW1hZ2VzL0RpZ2l0YWwtY29tcG9zaXRlLW9mLWhpZ2hsaWdodGVkLWJvbmVzLW9mLW1hbi1hYm91dC10by1yYWNlLmpwZ1wiKSAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1zaXplOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;;;;;;IAKMA,4BAIG;IADDA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IACvBA,wBAAsC;IAACA,gCAAe;IAAAA,iBACxD;;;;;IAUHA,mCAIgB;;;;IAFdA,8BAAa;;;ACTnB,OAAM,MAAOC,cAAc;EAOzBC,YACUC,WAAwB,EACxBC,KAAa,EACbC,MAAsB,EACtBC,YAA0B,EAC1BC,gBAAkC;IAJlC,gBAAW,GAAXJ,WAAW;IACX,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IACN,iBAAY,GAAZC,YAAY;IACZ,qBAAgB,GAAhBC,gBAAgB;IAX1B,UAAK,GAAc,EAAE;IACrB,eAAU,GAAW,CAAC;IACtB,gBAAW,GAAW,CAAC;IACvB,WAAM,GAAW,EAAE;IACnB,kBAAa,GAAY,KAAK;EAQ3B;EAEHC,QAAQ;IACN,IAAI,CAACC,aAAa,GAAG,IAAI,CAACH,YAAY,CAACI,QAAQ,CAACC,SAAS,CAAC;MACxDC,IAAI,EAAGC,GAAY,IAAI;QACrB,IAAI,CAACJ,aAAa,GAAGI,GAAG;MAC1B;KACD,CAAC;IACF;IACA,IAAI,CAACC,MAAM,EAAE;IACb,IAAI,CAACX,WAAW,CAACY,OAAO,CAACJ,SAAS,CAAC;MACjCC,IAAI,EAAE,MAAK;QACT,IAAI,CAACE,MAAM,EAAE;MACf;KACD,CAAC;EACJ;EAEAE,iBAAiB,CAACC,IAAW;IAC3B,IAAI,CAACC,WAAW,GAAG,CAACD,IAAI;IACxB,IAAI,CAACH,MAAM,EAAE;EACf;EAEAK,QAAQ,CAACC,aAAqB;IAC5B,IAAI,CAACC,MAAM,GAAGD,aAAa;IAC3B,IAAI,CAACF,WAAW,GAAG,CAAC;IACpB,IAAI,CAACJ,MAAM,EAAE;EACf;EAEAA,MAAM;IACJ,IAAI,CAACX,WAAW,CAACmB,WAAW,CAAC,IAAI,CAACJ,WAAW,EAAE,IAAI,CAACG,MAAM,CAAC,CAACV,SAAS,CAAC;MACpEC,IAAI,EAAGW,QAAgB,IAAI;QACzB,IAAI,CAACC,KAAK,GAAGD,QAAQ,CAACE,MAAM,CAACC,SAAsB;QACnD,IAAI,CAACC,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACN,QAAQ,CAACE,MAAM,CAACK,KAAK,EAAE,CAAC,CAAC;QACpDC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;QACrBQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,KAAK,CAAC;MACzB;KACD,CAAC;EACJ;EAEA;EACA;EACA;EACAS,YAAY;IACV,IAAI,CAAC7B,KAAK,CAAC8B,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAC9B;IAAM,CAAE,CAAC;EAClE;EAAC;qBAzDUJ,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAmC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDZ3BxC,8BAA2C;QAEvCA,yBAAuB;QACvBA,8BAA+B;QAC7BA,2DAKC;QACHA,iBAAM;QAGRA,qCAAwC;QAA5BA;UAAA,OAAUyC,oBAAgB;QAAA,EAAC;QAACzC,iBAAa;QAGrDA,kCAEC;QACCA,iFAIgB;QAClBA,iBAAU;QACVA,yCAIC;QADCA;UAAA,OAAqByC,6BAAyB;QAAA,EAAC;QAChDzC,iBAAiB;;;QAxBXA,eAAmB;QAAnBA,wCAAmB;QAeLA,eAAQ;QAARA,mCAAQ;QAM3BA,eAAyB;QAAzBA,2CAAyB","names":["i0","ItemsComponent","constructor","itemService","route","router","loginService","authorizeService","ngOnInit","hasPermission","loggedIn","subscribe","next","res","getAll","refresh","ChangeCurrentPage","page","currentPage","onSearch","searchContent","search","getAllItems","response","items","result","resultSet","totalCount","Math","max","count","console","log","onCreateItem","navigate","relativeTo","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\items\\items.component.html","G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\items\\items.component.ts"],"sourcesContent":["<!-- <div class=\"container p-4\"> -->\n<div class=\"p-4 mt-5 container-background\">\n  <div class=\"row pb-4\">\n    <div class=\"col\"></div>\n    <div class=\"col text-end pt-1\">\n      <a\n        *ngIf=\"hasPermission\"\n        class=\"btn btn-outline-primary p-2\"\n        (click)=\"onCreateItem()\"\n        ><i class=\"bi bi-plus-square-fill\"></i> Create New Item</a\n      >\n    </div>\n  </div>\n\n  <app-search (search)=\"onSearch($event)\"></app-search>\n\n  <!--TRY-->\n  <section\n    class=\"container-fluid d-md-flex row-cols-sm-12 mt-5 mb-5 d-flex justify-content-around flex-wrap\"\n  >\n    <app-itemcard\n      *ngFor=\"let item of items\"\n      [item]=\"item\"\n      class=\"col-sm-8 col-md-5 col-lg-3 me-3 mt-4 mb-4 d-flex flex-column\"\n    ></app-itemcard>\n  </section>\n  <app-pagination\n    [totalCount]=\"totalCount\"\n    [currentPage]=\"currentPage\"\n    (changeCurrentPage)=\"ChangeCurrentPage($event)\"\n  ></app-pagination>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ItemService } from '../services/item.service';\nimport { Product } from '../models/Product';\nimport { Result } from '../interfaces/result.interface';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoginService } from '../services/login.service';\nimport { AuthorizeService } from '../services/authorize.service';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.component.html',\n  styleUrls: ['./items.component.css'],\n})\nexport class ItemsComponent implements OnInit {\n  items: Product[] = [];\n  totalCount: number = 9;\n  currentPage: number = 1;\n  search: string = '';\n  hasPermission: boolean = false;\n\n  constructor(\n    private itemService: ItemService,\n    private route: Router,\n    private router: ActivatedRoute,\n    private loginService: LoginService,\n    private authorizeService: AuthorizeService\n  ) {}\n\n  ngOnInit() {\n    this.hasPermission = this.loginService.loggedIn.subscribe({\n      next: (res: boolean) => {\n        this.hasPermission = res;\n      },\n    });\n    //this.hasPermission = this.authorizeService.isAdmin;\n    this.getAll();\n    this.itemService.refresh.subscribe({\n      next: () => {\n        this.getAll();\n      },\n    });\n  }\n\n  ChangeCurrentPage(page: Event) {\n    this.currentPage = +page;\n    this.getAll();\n  }\n\n  onSearch(searchContent: string) {\n    this.search = searchContent;\n    this.currentPage = 1;\n    this.getAll();\n  }\n\n  getAll() {\n    this.itemService.getAllItems(this.currentPage, this.search).subscribe({\n      next: (response: Result) => {\n        this.items = response.result.resultSet as Product[];\n        this.totalCount = Math.max(response.result.count, 9);\n        console.log(response);\n        console.log(this.items);\n      },\n    });\n  }\n\n  // onGetSingleItem(id: number) {\n  //   this.route.navigate([`${id}`], { relativeTo: this.router });\n  // }\n  onCreateItem() {\n    this.route.navigate(['create/new'], { relativeTo: this.router });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}