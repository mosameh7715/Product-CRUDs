{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/category.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/login.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/search/search.component\";\nimport * as i6 from \"../shared/pagination/pagination.component\";\nimport * as i7 from \"../shared/deleting-modal/deleting-modal.component\";\nfunction CategoriesComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_a_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onCreateCategory());\n    });\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵtext(2, \" Create New Category\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriesComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 8);\n    i0.ɵɵtext(1, \"Action\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriesComponent_tr_17_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 15)(1, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_tr_17_td_7_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const category_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onUpdateCatgeory(category_r5.id));\n    });\n    i0.ɵɵelement(2, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"app-deleting-modal\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", \"category\")(\"id\", category_r5.id);\n  }\n}\nfunction CategoriesComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 15);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CategoriesComponent_tr_17_td_7_Template, 4, 2, \"td\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r5.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r5.itemCount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasPermission);\n  }\n}\nexport class CategoriesComponent {\n  constructor(categoryService, route, router, loginService) {\n    this.categoryService = categoryService;\n    this.route = route;\n    this.router = router;\n    this.loginService = loginService;\n    this.totalCount = 9;\n    this.currentPage = 1;\n    this.search = '';\n    this.hasPermission = false;\n  }\n  ngOnInit() {\n    this.hasPermission = this.loginService.hasPermission;\n    this.getAll();\n    this.categoryService.refresh.subscribe({\n      next: () => {\n        this.getAll();\n      }\n    });\n  }\n  ChangeCurrentPage(page) {\n    this.currentPage = +page;\n    this.getAll();\n  }\n  onSearch(searchContent) {\n    this.search = searchContent;\n    this.currentPage = 1;\n    this.getAll();\n  }\n  getAll() {\n    this.categoryService.getAllCategories(this.currentPage, this.search).subscribe({\n      next: response => {\n        this.categories = response.result.resultSet;\n        this.totalCount = Math.max(response.result.count, 9);\n      }\n    });\n  }\n  onCreateCategory() {\n    this.route.navigate(['create/new'], {\n      relativeTo: this.router\n    });\n  }\n  onUpdateCatgeory(id) {\n    this.route.navigate([`create/${id}`], {\n      relativeTo: this.router\n    });\n  }\n  static #_ = this.ɵfac = function CategoriesComponent_Factory(t) {\n    return new (t || CategoriesComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.LoginService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CategoriesComponent,\n    selectors: [[\"app-categories\"]],\n    decls: 19,\n    vars: 5,\n    consts: [[1, \"p-4\", \"mt-5\", \"container-background\"], [1, \"row\", \"pb-4\"], [1, \"col\"], [1, \"col\", \"text-end\", \"pt-1\"], [\"class\", \"btn btn-outline-primary\", 3, \"click\", 4, \"ngIf\"], [3, \"search\"], [1, \"table\", \"table-fill\"], [2, \"background-color\", \"#1b262c\"], [1, \"text-left\"], [\"class\", \"text-left\", 4, \"ngIf\"], [1, \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [3, \"totalCount\", \"currentPage\", \"changeCurrentPage\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-plus-square-fill\"], [1, \"text-left\", \"text-center\"], [\"class\", \"text-left text-center\", 4, \"ngIf\"], [1, \"btn\", \"btn-success\", \"mb-1\", \"me-3\", 3, \"click\"], [1, \"fa\", \"fa-pencil-square-o\", 2, \"color\", \"#ffffff\"], [3, \"type\", \"id\"]],\n    template: function CategoriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtemplate(4, CategoriesComponent_a_4_Template, 3, 0, \"a\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"app-search\", 5);\n        i0.ɵɵlistener(\"search\", function CategoriesComponent_Template_app_search_search_5_listener($event) {\n          return ctx.onSearch($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"table\", 6)(7, \"thead\", 7)(8, \"tr\")(9, \"th\", 8);\n        i0.ɵɵtext(10, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\", 8);\n        i0.ɵɵtext(12, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 8);\n        i0.ɵɵtext(14, \"Items\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, CategoriesComponent_th_15_Template, 2, 0, \"th\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"tbody\", 10);\n        i0.ɵɵtemplate(17, CategoriesComponent_tr_17_Template, 8, 4, \"tr\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"app-pagination\", 12);\n        i0.ɵɵlistener(\"changeCurrentPage\", function CategoriesComponent_Template_app_pagination_changeCurrentPage_18_listener($event) {\n          return ctx.ChangeCurrentPage($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermission);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPermission);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"totalCount\", ctx.totalCount)(\"currentPage\", ctx.currentPage);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.SearchComponent, i6.PaginationComponent, i7.DeletingModalComponent],\n    styles: [\"@import url(https://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100);div.table-title[_ngcontent-%COMP%] {\\n  display: block;\\n  margin: auto;\\n  max-width: 600px;\\n  padding: 5px;\\n  width: 100%;\\n}\\n\\n.table-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #fafafa;\\n  font-size: 30px;\\n  font-weight: 400;\\n  font-style: normal;\\n  font-family: \\\"Roboto\\\", helvetica, arial, sans-serif;\\n  text-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);\\n  text-transform: uppercase;\\n}\\n\\n\\n\\n.table-fill[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 3px;\\n  border-collapse: collapse;\\n  height: 320px;\\n  margin: auto;\\n  max-width: 600px;\\n  padding: 5px;\\n  width: 100%;\\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\\n  animation: float 5s infinite;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  color: #d5dde5;\\n  background: #1b1e24;\\n  border-bottom: 4px solid #9ea7af;\\n  border-right: 1px solid #343a45;\\n  font-size: 23px;\\n  font-weight: 100;\\n  padding: 24px;\\n  text-align: left;\\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\\n  vertical-align: middle;\\n}\\n\\nth[_ngcontent-%COMP%]:first-child {\\n  border-top-left-radius: 3px;\\n}\\n\\nth[_ngcontent-%COMP%]:last-child {\\n  border-top-right-radius: 3px;\\n  border-right: none;\\n}\\n\\ntr[_ngcontent-%COMP%] {\\n  border-top: 1px solid #c1c3d1;\\n  border-bottom-: 1px solid #c1c3d1;\\n  color: #666b85;\\n  font-size: 16px;\\n  font-weight: normal;\\n  text-shadow: 0 1px 1px rgba(256, 256, 256, 0.1);\\n}\\n\\ntr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%] {\\n  background: #ccccd4;\\n  border-top: 1px solid #22262e;\\n}\\n\\ntr[_ngcontent-%COMP%]:first-child {\\n  border-top: none;\\n}\\n\\ntr[_ngcontent-%COMP%]:last-child {\\n  border-bottom: none;\\n}\\n\\ntr[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%] {\\n  background: #ebebeb;\\n}\\n\\ntr[_ngcontent-%COMP%]:nth-child(odd):hover   td[_ngcontent-%COMP%] {\\n  background: #ccccd4;\\n}\\n\\ntr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child {\\n  border-bottom-left-radius: 3px;\\n}\\n\\ntr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child {\\n  border-bottom-right-radius: 3px;\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  background: #ffffff;\\n  padding: 20px;\\n  text-align: left;\\n  vertical-align: middle;\\n  font-weight: 300;\\n  font-size: 18px;\\n  text-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);\\n  border-right: 1px solid #c1c3d1;\\n}\\n\\ntd[_ngcontent-%COMP%]:last-child {\\n  border-right: 0px;\\n}\\n\\nth.text-left[_ngcontent-%COMP%] {\\n  text-align: left;\\n}\\n\\nth.text-center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\nth.text-right[_ngcontent-%COMP%] {\\n  text-align: right;\\n}\\n\\ntd.text-left[_ngcontent-%COMP%] {\\n  text-align: left;\\n}\\n\\ntd.text-center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\ntd.text-right[_ngcontent-%COMP%] {\\n  text-align: right;\\n}\\n\\n.container-background[_ngcontent-%COMP%] {\\n  background-image: linear-gradient(\\n      to top right,\\n      rgba(198, 217, 220, 0.86),\\n      rgba(254, 206, 172, 0),\\n      rgba(220, 220, 220, 0.61)\\n    ),\\n    url('Digital-composite-of-highlighted-bones-of-man-about-to-race.jpg') !important;\\n  background-position: center !important;\\n  background-size: initial !important;\\n  background-attachment: fixed;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxjQUFjO0VBQ2QsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLG1EQUFtRDtFQUNuRCw2Q0FBNkM7RUFDN0MseUJBQXlCO0FBQzNCOztBQUVBLG9CQUFvQjs7QUFFcEI7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osV0FBVztFQUNYLHlDQUF5QztFQUN6Qyw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLGdDQUFnQztFQUNoQywrQkFBK0I7RUFDL0IsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLHlDQUF5QztFQUN6QyxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSw0QkFBNEI7RUFDNUIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsNkJBQTZCO0VBQzdCLGlDQUFpQztFQUNqQyxjQUFjO0VBQ2QsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQiwrQ0FBK0M7QUFDakQ7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsNkNBQTZDO0VBQzdDLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFOzs7Ozs7cUZBTXVHO0VBQ3ZHLHNDQUFzQztFQUN0QyxtQ0FBbUM7RUFDbkMsNEJBQTRCO0FBQzlCIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90bzo0MDAsNTAwLDcwMCwzMDAsMTAwKTtcblxuZGl2LnRhYmxlLXRpdGxlIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogYXV0bztcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgcGFkZGluZzogNXB4O1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnRhYmxlLXRpdGxlIGgzIHtcbiAgY29sb3I6ICNmYWZhZmE7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LWZhbWlseTogXCJSb2JvdG9cIiwgaGVsdmV0aWNhLCBhcmlhbCwgc2Fucy1zZXJpZjtcbiAgdGV4dC1zaGFkb3c6IC0xcHggLTFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4vKioqIFRhYmxlIFN0eWxlcyAqKi9cblxuLnRhYmxlLWZpbGwge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBoZWlnaHQ6IDMyMHB4O1xuICBtYXJnaW46IGF1dG87XG4gIG1heC13aWR0aDogNjAwcHg7XG4gIHBhZGRpbmc6IDVweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJveC1zaGFkb3c6IDAgNXB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBhbmltYXRpb246IGZsb2F0IDVzIGluZmluaXRlO1xufVxuXG50aCB7XG4gIGNvbG9yOiAjZDVkZGU1O1xuICBiYWNrZ3JvdW5kOiAjMWIxZTI0O1xuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzllYTdhZjtcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzM0M2E0NTtcbiAgZm9udC1zaXplOiAyM3B4O1xuICBmb250LXdlaWdodDogMTAwO1xuICBwYWRkaW5nOiAyNHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB0ZXh0LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxudGg6Zmlyc3QtY2hpbGQge1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAzcHg7XG59XG5cbnRoOmxhc3QtY2hpbGQge1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogM3B4O1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG59XG5cbnRyIHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjMWMzZDE7XG4gIGJvcmRlci1ib3R0b20tOiAxcHggc29saWQgI2MxYzNkMTtcbiAgY29sb3I6ICM2NjZiODU7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgdGV4dC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NiwgMjU2LCAyNTYsIDAuMSk7XG59XG5cbnRyOmhvdmVyIHRkIHtcbiAgYmFja2dyb3VuZDogI2NjY2NkNDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyMjI2MmU7XG59XG5cbnRyOmZpcnN0LWNoaWxkIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn1cblxudHI6bGFzdC1jaGlsZCB7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbnRyOm50aC1jaGlsZChvZGQpIHRkIHtcbiAgYmFja2dyb3VuZDogI2ViZWJlYjtcbn1cblxudHI6bnRoLWNoaWxkKG9kZCk6aG92ZXIgdGQge1xuICBiYWNrZ3JvdW5kOiAjY2NjY2Q0O1xufVxuXG50cjpsYXN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkIHtcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogM3B4O1xufVxuXG50cjpsYXN0LWNoaWxkIHRkOmxhc3QtY2hpbGQge1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O1xufVxuXG50ZCB7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgdGV4dC1zaGFkb3c6IC0xcHggLTFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYzFjM2QxO1xufVxuXG50ZDpsYXN0LWNoaWxkIHtcbiAgYm9yZGVyLXJpZ2h0OiAwcHg7XG59XG5cbnRoLnRleHQtbGVmdCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbnRoLnRleHQtY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG50aC50ZXh0LXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbnRkLnRleHQtbGVmdCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbnRkLnRleHQtY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG50ZC50ZXh0LXJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5jb250YWluZXItYmFja2dyb3VuZCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgIHRvIHRvcCByaWdodCxcbiAgICAgIHJnYmEoMTk4LCAyMTcsIDIyMCwgMC44NiksXG4gICAgICByZ2JhKDI1NCwgMjA2LCAxNzIsIDApLFxuICAgICAgcmdiYSgyMjAsIDIyMCwgMjIwLCAwLjYxKVxuICAgICksXG4gICAgdXJsKFwiLi4vLi4vYXNzZXRzL2ltYWdlcy9EaWdpdGFsLWNvbXBvc2l0ZS1vZi1oaWdobGlnaHRlZC1ib25lcy1vZi1tYW4tYWJvdXQtdG8tcmFjZS5qcGdcIikgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtc2l6ZTogaW5pdGlhbCAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","CategoriesComponent","constructor","categoryService","route","router","loginService","ngOnInit","hasPermission","getAll","refresh","subscribe","next","ChangeCurrentPage","page","currentPage","onSearch","searchContent","search","getAllCategories","response","categories","result","resultSet","totalCount","Math","max","count","onCreateCategory","navigate","relativeTo","onUpdateCatgeory","id","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\categories\\categories.component.html","G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\categories\\categories.component.ts"],"sourcesContent":["<div class=\"p-4 mt-5 container-background\">\n  <div class=\"row pb-4\">\n    <div class=\"col\"></div>\n    <div class=\"col text-end pt-1\">\n      <a\n        *ngIf=\"hasPermission\"\n        class=\"btn btn-outline-primary\"\n        (click)=\"onCreateCategory()\"\n        ><i class=\"bi bi-plus-square-fill\"></i> Create New Category</a\n      >\n    </div>\n  </div>\n\n  <app-search (search)=\"onSearch($event)\"></app-search>\n\n  <table class=\"table table-fill\">\n    <thead style=\"background-color: #1b262c\">\n      <tr>\n        <th class=\"text-left\">Name</th>\n        <th class=\"text-left\">Description</th>\n        <th class=\"text-left\">Items</th>\n        <th *ngIf=\"hasPermission\" class=\"text-left\">Action</th>\n      </tr>\n    </thead>\n    <tbody class=\"table-hover\">\n      <tr *ngFor=\"let category of categories\">\n        <td class=\"text-left text-center\">{{ category.name }}</td>\n        <td class=\"text-left text-center\">{{ category.description }}</td>\n        <td class=\"text-left text-center\">{{ category.itemCount }}</td>\n        <td *ngIf=\"hasPermission\" class=\"text-left text-center\">\n          <a\n            class=\"btn btn-success mb-1 me-3\"\n            (click)=\"onUpdateCatgeory(category.id)\"\n            ><i class=\"fa fa-pencil-square-o\" style=\"color: #ffffff\"></i\n          ></a>\n          <app-deleting-modal\n            [type]=\"'category'\"\n            [id]=\"category.id\"\n          ></app-deleting-modal>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <app-pagination\n    [totalCount]=\"totalCount\"\n    [currentPage]=\"currentPage\"\n    (changeCurrentPage)=\"ChangeCurrentPage($event)\"\n  ></app-pagination>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Category } from '../models/category';\nimport { CategoryService } from '../services/category.service';\nimport { Result } from '../interfaces/result.interface';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoginService } from '../services/login.service';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.component.html',\n  styleUrls: ['./categories.component.css'],\n})\nexport class CategoriesComponent implements OnInit {\n  categories: Category[];\n  totalCount: number = 9;\n  currentPage: number = 1;\n  search: string = '';\n  hasPermission: boolean = false;\n\n  constructor(\n    private categoryService: CategoryService,\n    private route: Router,\n    private router: ActivatedRoute,\n    private loginService: LoginService\n  ) {}\n  ngOnInit() {\n    this.hasPermission = this.loginService.hasPermission;\n    this.getAll();\n    this.categoryService.refresh.subscribe({\n      next: () => {\n        this.getAll();\n      },\n    });\n  }\n\n  ChangeCurrentPage(page: Event) {\n    this.currentPage = +page;\n    this.getAll();\n  }\n\n  onSearch(searchContent: string) {\n    this.search = searchContent;\n    this.currentPage = 1;\n    this.getAll();\n  }\n\n  getAll() {\n    this.categoryService\n      .getAllCategories(this.currentPage, this.search)\n      .subscribe({\n        next: (response: Result) => {\n          this.categories = response.result.resultSet as Category[];\n          this.totalCount = Math.max(response.result.count, 9);\n        },\n      });\n  }\n  onCreateCategory() {\n    this.route.navigate(['create/new'], { relativeTo: this.router });\n  }\n\n  onUpdateCatgeory(id: number) {\n    this.route.navigate([`create/${id}`], {\n      relativeTo: this.router,\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}