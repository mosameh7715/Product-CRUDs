{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/item.service\";\nimport * as i2 from \"src/app/services/category.service\";\nimport * as i3 from \"@angular/common\";\nfunction DeletingModalComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 6)(4, \"h5\", 7);\n    i0.ɵɵtext(5, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function DeletingModalComponent_div_3_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggle());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 9)(8, \"p\");\n    i0.ɵɵtext(9, \"Are You Sure ?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 10)(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DeletingModalComponent_div_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggle());\n    });\n    i0.ɵɵtext(12, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function DeletingModalComponent_div_3_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.Delete());\n    });\n    i0.ɵɵtext(14, \" Delete \");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nexport class DeletingModalComponent {\n  constructor(itemService, categoryService) {\n    this.itemService = itemService;\n    this.categoryService = categoryService;\n    this.showModal = false;\n  }\n  toggle() {\n    this.showModal = !this.showModal;\n  }\n  Delete() {\n    this.toggle();\n    if (this.type === 'item') {\n      this.itemService.DeleteItem(this.id).subscribe({\n        next: response => {\n          console.log(response);\n          this.itemService.refresh.next();\n        }\n      });\n    } else if (this.type === 'category') {\n      this.categoryService.DeleteCategory(this.id).subscribe({\n        next: response => {\n          console.log(response);\n          this.categoryService.refresh.next();\n        }\n      });\n    }\n  }\n  static #_ = this.ɵfac = function DeletingModalComponent_Factory(t) {\n    return new (t || DeletingModalComponent)(i0.ɵɵdirectiveInject(i1.ItemService), i0.ɵɵdirectiveInject(i2.CategoryService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DeletingModalComponent,\n    selectors: [[\"app-deleting-modal\"]],\n    inputs: {\n      id: \"id\",\n      type: \"type\"\n    },\n    decls: 4,\n    vars: 1,\n    consts: [[\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mb-1\", \"me-3\", 3, \"click\"], [1, \"fa\", \"fa-trash\", 2, \"color\", \"#ffffff\"], [\"class\", \"modal\", \"tabindex\", \"-1\", 4, \"ngIf\"], [\"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function DeletingModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function DeletingModalComponent_Template_button_click_0_listener() {\n          return ctx.toggle();\n        });\n        i0.ɵɵelementStart(1, \"span\");\n        i0.ɵɵelement(2, \"i\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, DeletingModalComponent_div_3_Template, 15, 0, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n      }\n    },\n    dependencies: [i3.NgIf],\n    styles: [\".modal[_ngcontent-%COMP%] {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2RlbGV0aW5nLW1vZGFsL2RlbGV0aW5nLW1vZGFsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IAOAA,8BAAmD;IAInBA,uBAAO;IAAAA,iBAAK;IACpCA,iCAKC;IADCA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IACnBA,iBAAS;IAEZA,8BAAwB;IACnBA,8BAAc;IAAAA,iBAAI;IAEvBA,gCAA0B;IACwBA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAChEA,yBACF;IAAAA,iBAAS;IACTA,mCAAgE;IAAnBA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAC7DA,yBACF;IAAAA,iBAAS;;;ACnBjB,OAAM,MAAOC,sBAAsB;EAIjCC,YACUC,WAAwB,EACxBC,eAAgC;IADhC,gBAAW,GAAXD,WAAW;IACX,oBAAe,GAAfC,eAAe;IALzB,cAAS,GAAY,KAAK;EAMvB;EAEHC,MAAM;IACJ,IAAI,CAACC,SAAS,GAAG,CAAC,IAAI,CAACA,SAAS;EAClC;EACAC,MAAM;IACJ,IAAI,CAACF,MAAM,EAAE;IACb,IAAI,IAAI,CAACG,IAAI,KAAK,MAAM,EAAE;MACxB,IAAI,CAACL,WAAW,CAACM,UAAU,CAAC,IAAI,CAACC,EAAE,CAAC,CAACC,SAAS,CAAC;QAC7CC,IAAI,EAAGC,QAAQ,IAAI;UACjBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;UACrB,IAAI,CAACV,WAAW,CAACa,OAAO,CAACJ,IAAI,EAAE;QACjC;OACD,CAAC;KACH,MAAM,IAAI,IAAI,CAACJ,IAAI,KAAK,UAAU,EAAE;MACnC,IAAI,CAACJ,eAAe,CAACa,cAAc,CAAC,IAAI,CAACP,EAAE,CAAC,CAACC,SAAS,CAAC;QACrDC,IAAI,EAAGC,QAAQ,IAAI;UACjBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;UACrB,IAAI,CAACT,eAAe,CAACY,OAAO,CAACJ,IAAI,EAAE;QACrC;OACD,CAAC;;EAEN;EAAC;qBA7BUX,sBAAsB;EAAA;EAAA;UAAtBA,sBAAsB;IAAAiB;IAAAC;MAAAT;MAAAF;IAAA;IAAAY;IAAAC;IAAAC;IAAAC;MAAA;QDRnCvB,iCAA0E;QAAnBA;UAAA,OAASwB,YAAQ;QAAA,EAAC;QACvExB,4BAAM;QACJA,uBAAkD;QACpDA,iBAAO;QAGTA,wEAyBM;;;QAzB4BA,eAAe;QAAfA,oCAAe","names":["i0","DeletingModalComponent","constructor","itemService","categoryService","toggle","showModal","Delete","type","DeleteItem","id","subscribe","next","response","console","log","refresh","DeleteCategory","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\shared\\deleting-modal\\deleting-modal.component.html","G:\\Courses\\Programming\\Ahmed Turky Demos\\Basic CRUDs Opearations (CQRS, Mediator, Repository, Unit of Work)\\Frontend\\Products App\\src\\app\\shared\\deleting-modal\\deleting-modal.component.ts"],"sourcesContent":["<!-- Button trigger modal -->\n<button type=\"button\" class=\"btn btn-danger mb-1 me-3\" (click)=\"toggle()\">\n  <span>\n    <i class=\"fa fa-trash\" style=\"color: #ffffff\"></i>\n  </span>\n</button>\n\n<div class=\"modal\" tabindex=\"-1\" *ngIf=\"showModal\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">Warning</h5>\n        <button\n          type=\"button\"\n          class=\"btn-close\"\n          aria-label=\"Close\"\n          (click)=\"toggle()\"\n        ></button>\n      </div>\n      <div class=\"modal-body\">\n        <p>Are You Sure ?</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"toggle()\">\n          Cancel\n        </button>\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"Delete()\">\n          Delete\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { CategoryService } from 'src/app/services/category.service';\nimport { ItemService } from 'src/app/services/item.service';\n\n@Component({\n  selector: 'app-deleting-modal',\n  templateUrl: './deleting-modal.component.html',\n  styleUrls: ['./deleting-modal.component.css'],\n})\nexport class DeletingModalComponent {\n  showModal: boolean = false;\n  @Input() id: number;\n  @Input() type: string;\n  constructor(\n    private itemService: ItemService,\n    private categoryService: CategoryService\n  ) {}\n\n  toggle() {\n    this.showModal = !this.showModal;\n  }\n  Delete() {\n    this.toggle();\n    if (this.type === 'item') {\n      this.itemService.DeleteItem(this.id).subscribe({\n        next: (response) => {\n          console.log(response);\n          this.itemService.refresh.next();\n        },\n      });\n    } else if (this.type === 'category') {\n      this.categoryService.DeleteCategory(this.id).subscribe({\n        next: (response) => {\n          console.log(response);\n          this.categoryService.refresh.next();\n        },\n      });\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}